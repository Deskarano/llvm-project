block main
{
    input(byte_in[7:0], valid)
    output(byte_out[7:0])
    state(count[15:0])

    when(valid == 1b1)
    {
        byte_out[0] = byte_in[7]
        byte_out[1] = byte_in[6]
        byte_out[2] = byte_in[5]
        byte_out[3] = byte_in[4]
        byte_out[4] = byte_in[3]
        byte_out[5] = byte_in[2]
        byte_out[6] = byte_in[1]
        byte_out[7] = byte_in[0]

        count = count + 16b1
    }
}
